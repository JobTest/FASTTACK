<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd"
        logicalFilePath="update2018_02-03_add_mdes_custom_priv.xml">

    <changeSet id="add_enckey_jms_postgresql" author="a.lypivets" runOnChange="true" context="postgresql">
        <preConditions onFail="MARK_RAN">
            <and>
                <tableExists tableName="ENCKEY"/>
                <sqlCheck expectedResult="0">SELECT COUNT(*) FROM ENCKEY WHERE KEYTYPE = 'MDES_CUSTOMER_PRIV'</sqlCheck>
            </and>
        </preConditions>
        <sql>
            INSERT INTO
            ENCKEY (KEYTYPE, REFCODE,    CAPACITY, STATCODE, CHECKVALUE, EFFDATE,      EXPDATE,                                     WRAPPINGKEY, KEYVALUE,                           PUBLICEXPONENT)
            VALUES ('MDES_CUSTOMER_PRIV',   '01596e59abbcb8b1eed7485b68a234a7', 'T',      0,        NULL,       CURRENT_DATE, (CURRENT_DATE + INTERVAL '120 MONTH')::DATE, 'LMK3',      '6DEA63ACAB0D6D8AE517481CB64543291DA74649D8E7411B92C3AA59D45809B4521979980BACE81DC29FDF354A0A118EDAC6620C1E21E2A368AF2EF3E3757E7975102041F96C6F16C1D5B510E324CA9F80D1A78D8534B8B48FCDB666326EAC3ED698136A0DFC9AC23B8E8E9D5E5F1A90E7BF129CA5E4A2C869633A3511D5525F1BD3802B3DA86EB2A3698AF3D4DAD9A8278F1A046BA1B4855925F1E8AAADE0AADF24A796CD67C9C8CC9CABCB988B306B615F149D581D627A20D150922138AF854DC55360D8E0BC31C7DD17E9D59B7D21FDB38919D8963237BDACB08F53DDDE467E0062136D8700459804DE1BBCF6592C7C28BF25E07CA699360A36624D731FDDB42AF9ECDA25A27D250CC70C503665A7CBB68F1B28791D0658047981439D194F0A9845952A9385551330A2A5E7BBC93C6E89093EFCCB56A9F73BC430B6EFD266F20A7A8FB5FA8EC35F84921B86CD1F5BE57DB2510866F33787C8178F0020E0B3BABA531EEF5DF24ED3528DBC449E89E78A1C5B9EECCE2FCF3F513ABF7BFA36901E6BADE220A04561EB1A9782D19402F4B2BE83D73F4083565BC3E6D9AE7524522B376BC93C4143C896FD2828B33A7318735E4F4549E8ABACF94B282B75BC7B032F39D5F0FA970436D37676144F4F0542892026DC57FFDF0B767E4A3C41F1AA4B0060324677E6FC233158101D07C192CB0A727B20FB433E14870B7C6F2EFF46470F911AE1E09B9BD75E75DA24700D66CA52A8DB94D88C38E572677908BD44B3B51883AA22BC0B57A6C5FFD20FED7705A1267E818C065653ABE1B1C837A8420A359D3AA5A0B84FAA3EA510C13843E16907AB3E7EB06ECC69BE1E185EABA75DA78B7A995BE5C01212CB26486D3A33DBC7A759BF6E33747973F18EF129AF35D8FCEEBE48B18AD3E4478F80A2D66402384D4B65176879482B795838A7CF44D20EA2CB37851B75E9097196D1B27E53D727CFB9C2E00EB04E566D8499344E41849C854DDA1B56BED8B5F43317B82F1FAB963AEFC354C83D08539A9B358AAED331A0D85D4CAC65F6A32F84FA7EBFC833EC701D2E181A6256E6DA327A24628DA3C80DB84F8DAB2B2B9FA77AC4D9279D7EB94604B48D6A486C048E6800B11B63AD47612212AF82A83ECF8CA9A9625A0775ECDCA3FBF3AB9225B78D1A2087A8A2C6BB319B112221C255EEBC144C2680E5180470CA3EEF2AF49C654F6A346EA26C4475FBBAD197591A43E6B176D4C6B4BB8EA26BE424BEAF3E1BB385888AF6E233960E025C3A461DC9F078C4931E555FE9D5939ADF40363E59A4058195FCA02297BE075F65B3096E6C81DE7127BDAD255DFA9AF8278B362CAB93414425836E60F262FF934C2C8157D93B922D94295D3AF4636CED373CE5ADEF58ADA160149C4EEA0E02D0794C1C226A5DE7388E0ECD7817F6870C25D41F7E3983F070C0F471EF02809EE56AC96A13DE28C771EAE8EF918C1E79CB3AF037684BEDFB92C2D52E0A2ADAFEC8477F338ECA6542FD7D1F7E247FCB20FEFC35249E612E357CE8BDDCF091B3AE1AB7A9F66F1C8F169329F8EFE56669621C60E723C38515FD936DF7118BA87129B6E49465414656DE198B9CA7ADA9017197A02F1592A6D19BF9B7F535316B22F728F8E32B1C07C3C5291AE694D36586CA77877C2C109B28D5D193C74366DDDC5781E6FDD6A5993C45F28674AAE65015610F3085E90E0789465DA8D018EBCEC3647F3BD1', NULL)
        </sql>
    </changeSet>

    <changeSet id="add_enckey_jms_oracle" author="a.lypivets" runOnChange="true" context="oracle">
        <preConditions onFail="MARK_RAN">
            <and>
                <tableExists tableName="ENCKEY"/>
                <sqlCheck expectedResult="0">SELECT COUNT(*) FROM ENCKEY WHERE KEYTYPE = 'MDES_CUSTOMER_PRIV'</sqlCheck>
            </and>
        </preConditions>
        <sql>
            INSERT INTO ENCKEY (ID, KEYTYPE, REFCODE, CAPACITY, STATCODE, CHECKVALUE, EFFDATE, EXPDATE, WRAPPINGKEY, KEYVALUE, PUBLICEXPONENT)
            VALUES (ENCKEY_ID_SEQ.nextval, 'MDES_CUSTOMER_PRIV', '01596e59abbcb8b1eed7485b68a234a7', 'T', 0, NULL, trunc(sysdate), add_months(trunc(sysdate), 120), 'LMK3', '6DEA63ACAB0D6D8AE517481CB64543291DA74649D8E7411B92C3AA59D45809B4521979980BACE81DC29FDF354A0A118EDAC6620C1E21E2A368AF2EF3E3757E7975102041F96C6F16C1D5B510E324CA9F80D1A78D8534B8B48FCDB666326EAC3ED698136A0DFC9AC23B8E8E9D5E5F1A90E7BF129CA5E4A2C869633A3511D5525F1BD3802B3DA86EB2A3698AF3D4DAD9A8278F1A046BA1B4855925F1E8AAADE0AADF24A796CD67C9C8CC9CABCB988B306B615F149D581D627A20D150922138AF854DC55360D8E0BC31C7DD17E9D59B7D21FDB38919D8963237BDACB08F53DDDE467E0062136D8700459804DE1BBCF6592C7C28BF25E07CA699360A36624D731FDDB42AF9ECDA25A27D250CC70C503665A7CBB68F1B28791D0658047981439D194F0A9845952A9385551330A2A5E7BBC93C6E89093EFCCB56A9F73BC430B6EFD266F20A7A8FB5FA8EC35F84921B86CD1F5BE57DB2510866F33787C8178F0020E0B3BABA531EEF5DF24ED3528DBC449E89E78A1C5B9EECCE2FCF3F513ABF7BFA36901E6BADE220A04561EB1A9782D19402F4B2BE83D73F4083565BC3E6D9AE7524522B376BC93C4143C896FD2828B33A7318735E4F4549E8ABACF94B282B75BC7B032F39D5F0FA970436D37676144F4F0542892026DC57FFDF0B767E4A3C41F1AA4B0060324677E6FC233158101D07C192CB0A727B20FB433E14870B7C6F2EFF46470F911AE1E09B9BD75E75DA24700D66CA52A8DB94D88C38E572677908BD44B3B51883AA22BC0B57A6C5FFD20FED7705A1267E818C065653ABE1B1C837A8420A359D3AA5A0B84FAA3EA510C13843E16907AB3E7EB06ECC69BE1E185EABA75DA78B7A995BE5C01212CB26486D3A33DBC7A759BF6E33747973F18EF129AF35D8FCEEBE48B18AD3E4478F80A2D66402384D4B65176879482B795838A7CF44D20EA2CB37851B75E9097196D1B27E53D727CFB9C2E00EB04E566D8499344E41849C854DDA1B56BED8B5F43317B82F1FAB963AEFC354C83D08539A9B358AAED331A0D85D4CAC65F6A32F84FA7EBFC833EC701D2E181A6256E6DA327A24628DA3C80DB84F8DAB2B2B9FA77AC4D9279D7EB94604B48D6A486C048E6800B11B63AD47612212AF82A83ECF8CA9A9625A0775ECDCA3FBF3AB9225B78D1A2087A8A2C6BB319B112221C255EEBC144C2680E5180470CA3EEF2AF49C654F6A346EA26C4475FBBAD197591A43E6B176D4C6B4BB8EA26BE424BEAF3E1BB385888AF6E233960E025C3A461DC9F078C4931E555FE9D5939ADF40363E59A4058195FCA02297BE075F65B3096E6C81DE7127BDAD255DFA9AF8278B362CAB93414425836E60F262FF934C2C8157D93B922D94295D3AF4636CED373CE5ADEF58ADA160149C4EEA0E02D0794C1C226A5DE7388E0ECD7817F6870C25D41F7E3983F070C0F471EF02809EE56AC96A13DE28C771EAE8EF918C1E79CB3AF037684BEDFB92C2D52E0A2ADAFEC8477F338ECA6542FD7D1F7E247FCB20FEFC35249E612E357CE8BDDCF091B3AE1AB7A9F66F1C8F169329F8EFE56669621C60E723C38515FD936DF7118BA87129B6E49465414656DE198B9CA7ADA9017197A02F1592A6D19BF9B7F535316B22F728F8E32B1C07C3C5291AE694D36586CA77877C2C109B28D5D193C74366DDDC5781E6FDD6A5993C45F28674AAE65015610F3085E90E0789465DA8D018EBCEC3647F3BD1', NULL);
        </sql>
    </changeSet>
</databaseChangeLog>